{% extends "base.html" %} {% block content %}

<h2>Cadastro de Médico</h2>

<form action="{{ url_for('main.novo_medico') }}" method="POST">
  <label>Nome</label>
  <input type="text" name="nome" required />

  <label>CRM</label>
  <input type="text" name="crm" required />

  <label>Especialidade</label>
  <input type="text" name="especialidade" required />

  <label>Telefone</label>
  <input type="text" name="telefone" />

  <label>Email</label>
  <input type="email" name="email" />

  <button type="submit">Cadastrar Médico</button>
</form>

<hr />

<h2>Médicos cadastrados</h2>

<ul>
  {% for m in medicos %}
  <li style="display:flex; align-items: center; gap:12px; margin-bottom:8px;">
    <div style="flex:1;">
    <strong>{{ m.nome }}</strong> — CRM: {{ m.crm }} — {{ m.especialidade }} — ID: {{m.id}}
    </div>
    <form
      action="{{ url_for('main.excluir_medico_route', id=m.id) }}"
      method="POST"
      onsubmit="return confirm('Tem certeza que deseja excluir o médico {{ m.nome }}?');"
      style="margin: 0"
    >
      <button
        type="submit"
        style="
          background: #e74c3c;
          color: #fff;
          border: none;
          padding: 6px 10px;
          border-radius: 6px;
          cursor: pointer;
        "
      >
        Excluir
      </button>
    </form>
  </li>
  {% endfor %}
</ul>

{% endblock %}
